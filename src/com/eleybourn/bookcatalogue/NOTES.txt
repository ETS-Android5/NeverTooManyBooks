TOMF some 'task' notes...

1. ManagedTask's started from a BaseActivityWithTasks.

 * abstract {@link ManagedTask} extends Thread
 * Background task that is managed by TaskManager and uses TaskManager to coordinate display activities.
 *
 * {@link TaskManager}
 * handles the management of multiple tasks and passing messages with the help of a {@link MessageSwitch}
 *
 * {@link BaseActivityWithTasks}
 * Uses a TaskManager (and communicates with it) to handle messages for ManagedTask.
 * Handles progress messages (ProgressDialog) and user messages (toast)

Also involved are:
- a Client Listener, for example {@link TaskManager.TaskManagerListener},
  to which Messages can be send by the MessageSwitch
- a Controller, for example {@link TaskManager.TaskManagerController}
  which the client can 'get' from the MessageSwitch, and then use to get hold of the Sender.

Used by:
- BookSearchActivity
- UpdateFieldsFromInternetActivity
==> the SearchManager/SearchTasks for getting book information from web sites.
- AdminActivity
 ==> CSV import/export
----------------------------------------------------------------------------------------------------
2. SimpleTask
   Uses SimpleTaskQueue, with callbacks (listeners) directly to the object which enqueued the task.

3. FragmentTask
   Almost the same as SimpleTask, but has access to the Fragment that started it.
   Uses a SimpleTaskQueueProgressDialogFragment, displaying a ProgressDialog

4. Terminator/TerminatorTask: delayed start of SimpleTask's
----------------------------------------------------------------------------------------------------
5. taskqueue - minimalistic traditional database backed "Sun MessageQueue" like product
   Task
   LegacyTask extends Task
   RunnableTask extends Task
   GenericTask extends RunnableTask

Used by:
- goodreads api

 ----------------------------------------------------------------------------------------------------
6. CropImageActivity
Has yet another form of background job definition.
 ----------------------------------------------------------------------------------------------------

GOALS:
 1. Removal of taskqueue
    replace with SimpleTask.
 2. Removal of ManagedTask.
 3. retire...
 4. Move to using ASyncTask (single-threaded) or Executor (multi-threaded) for all ?



FIXME: help screen 'cleanup' button. Broken? + move it to admin adv. options ?

TEST TOMF: onActivityResult now that fragments seem to be done correctly

ENHANCE: backup -> offer options to import preferences, bookstyles, etc.... conditionally
ENHANCE: backup -> if preferences were imported, indicate somehow that we want to switch to the bookshelf as set in the prefs.


TOMF ENHANCE New anthology stuff:
 * to think about:
 * - when to delete entries in ANTHOLOGY ? when last book is gone or keep them, for adding to new books / wish list
 * - consider a purge based on book for orphan TOCEntry (a purge based on Author is already done)

TOMF FIXME database stuff
 * FIXME: Very few database methods throw an SQLiteDoneException.
 * The caller is either already catching them, or believes they will never happen.
 *
 * FIXME: database insert methods which return -1 for failing to insert. Not all callers check.
 * FIXME: catch UpdateException (or not?)
 * FIXME: catch NotFoundException (or not?)
 * bind variables versus string concat

TOMF ENHANCE database using 'lower()' in WHERE and ORDER BY clauses. Performance? Better 'Collation' setting?'. LIKE operator ?
  * check indexes for all lower case, then eliminate the lower() for all that uses those indexes.
  * force table creation to use NOCASE ? but what about current LOCALIZED then ?

ENHANCE finish FTS searching {@link com.eleybourn.bookcatalogue.searches.SearchLocalActivity}
 * and {@link #searchFts(String, String, String)}

TOMF: research 'local' search. The code has some stuff enabled, but not tested. -> check BC 5.2.2 release (not master)

ENHANCE instead of string encoding of lists, at the very least use ArrayList<String>; only do the multi-string encoding/decoding at CSV level

ENHANCE: JSON or XML Exporter / Importer
 * pro: easier / (sort of) foolproof / FLEXIBLE!
 * con: fools / fields will be bigger due to labels/tags / not easy to get 'others' to provide import files

TODO: dialogs/* -> eliminate the pass up of the actual dialog. -> dismiss earlier

TODO: remove the Apache http client; it's removed from API 23.

Issues checked: 800 down to 677 (inc)

New fields:
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/763 - Feature request: Series/Author complete/done checkbox
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/753 - Add Edition, Print, and condition (book / dustcover)
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/481 - field for the number of a limited series
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/799 - original title (for translations, so also original language)

Make some behavior optional:
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/561 - Make title/series mangling optional
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/696 - Order by author first name

General:
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/317 - Add statistics to 'About' tab

Searches
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/546 - Worldcat support
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/348 - ISSN (serials)
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/723 - add book by search: allow publisher + present list of finds instead of using first found.
==> SearchManager.search when isbn not provided, will run a search until it finds an isbn, and then redo the search WITH the isbn
==> so this is why we only ever get ONE result back.

Filtering:
ENHANCE: https://github.com/eleybourn/Book-Catalogue/issues/686 - Filter by signed
==> adding ISortableField and IFilterableField so that we (theoretically) just need to create a new
==> object that implements one or both of these for each such field.

Bugs:
FIXME: https://github.com/eleybourn/Book-Catalogue/issues/740 - Date prompt appears to be UCT, not local time
--> set phone to EST, play with date published.


Should be tested:
-

Implemented:
https://github.com/eleybourn/Book-Catalogue/issues/800 - Bulk edit (lang,pub)
https://github.com/eleybourn/Book-Catalogue/issues/779 - Unneeded comma at end of line in CSV export
https://github.com/eleybourn/Book-Catalogue/issues/770 - Make as read from long press
https://github.com/eleybourn/Book-Catalogue/issues/761 - Surround ISBN with quotes on CSV export?
https://github.com/eleybourn/Book-Catalogue/issues/751 - Different decimal separator for price (German)
https://github.com/eleybourn/Book-Catalogue/issues/742 - Cannot Delete Title in Anthologies
https://github.com/eleybourn/Book-Catalogue/issues/732 - Mark as read from the main list
https://github.com/eleybourn/Book-Catalogue/issues/728 - Option to re-download the cover -> fixed by simply adding the current isbn to the 'alternative editions' list to search
https://github.com/eleybourn/Book-Catalogue/issues/725 - share-function
https://github.com/eleybourn/Book-Catalogue/issues/721 - The application directory should be cleaned
https://github.com/eleybourn/Book-Catalogue/issues/519 - == 721
https://github.com/eleybourn/Book-Catalogue/issues/720 - Moving user-created styles doesn't work
https://github.com/eleybourn/Book-Catalogue/issues/719 - "Language" field content should be translated
https://github.com/eleybourn/Book-Catalogue/issues/713 - Completely switch to Android Studio project hierarchy
https://github.com/eleybourn/Book-Catalogue/issues/709 - Add 'date acquired' field
https://github.com/eleybourn/Book-Catalogue/issues/690 - Currency for each book
https://github.com/eleybourn/Book-Catalogue/issues/678 - List price needs to be listed to two decimal points.

https://github.com/eleybourn/Book-Catalogue/issues/597 - Merging of bookshelves
https://github.com/eleybourn/Book-Catalogue/issues/587 - residual thumbnail after Cancel entry-by-isbn
https://github.com/eleybourn/Book-Catalogue/issues/567 - Read-only display does not display anthology titles
https://github.com/eleybourn/Book-Catalogue/issues/547 - UPC bar-codes
https://github.com/eleybourn/Book-Catalogue/issues/534 - Display Anthology Titles in Read-only view
https://github.com/eleybourn/Book-Catalogue/issues/493 - auto fill 'read end date' when checkbox "I've read this book" is clicked.
https://github.com/eleybourn/Book-Catalogue/issues/451 - Suffixed in names not handled well. eg "William F. Buckley, Jr
https://github.com/eleybourn/Book-Catalogue/issues/323 - Add Field for Editions
https://github.com/eleybourn/Book-Catalogue/issues/281 - A field for copyright date
https://github.com/eleybourn/Book-Catalogue/issues/113 - Add a 'Date Bought' Field
https://github.com/eleybourn/Book-Catalogue/issues/239 - Currency field in list price
