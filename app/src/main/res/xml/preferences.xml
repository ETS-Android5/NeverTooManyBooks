<?xml version="1.0" encoding="utf-8"?>
<!--
  ~ @Copyright 2019 HardBackNutter
  ~ @License GNU General Public License
  ~
  ~ This file is part of NeverTooManyBooks.
  ~
  ~ In August 2018, this project was forked from:
  ~ Book Catalogue 5.2.2 @2016 Philip Warner & Evan Leybourn
  ~
  ~ Without their original creation, this project would not exist in its
  ~ current form. It was however largely rewritten/refactored and any
  ~ comments on this fork should be directed at HardBackNutter and not
  ~ at the original creators.
  ~
  ~ NeverTooManyBooks is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ NeverTooManyBooks is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~ See the GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with NeverTooManyBooks. If not, see <http://www.gnu.org/licenses/>.
  -->

<PreferenceScreen
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    app:layout_behavior="@string/appbar_scrolling_view_behavior"
    >
    <PreferenceCategory
        android:title="@string/pg_ui">
        <!-- the list contains Locale string IDs in contrast to other
             ListPreference which use 0,1... -->
        <ListPreference
            android:defaultValue="system"
            android:entries="@array/pe_ui_language"
            android:entryValues="@array/pv_ui_language"
            android:icon="@drawable/ic_language"
            android:key="App.Locale"
            android:title="@string/pt_ui_language" />

        <!-- NEWKIND: APP THEME. -->
        <ListPreference
            android:defaultValue="0"
            android:entries="@array/pe_ui_theme"
            android:entryValues="@array/pv_ui_theme"
            android:icon="@drawable/ic_settings_brightness"
            android:key="App.Theme"
            android:title="@string/pt_ui_theme" />

        <!-- default snackbar == 1 -->
        <ListPreference
            android:defaultValue="1"
            android:entries="@array/pe_ui_messages_use"
            android:entryValues="@array/pv_ui_messages_use"
            android:icon="@drawable/ic_message"
            android:key="App.UserMessage"
            android:title="@string/pt_ui_messages_use" />

        <PreferenceScreen
            android:icon="@drawable/ic_visibility"
            android:key="@string/pg_ui_field_visibility"
            android:summary="@string/info_manage_fields"
            android:title="@string/pg_ui_field_visibility"
            >
            <!-- NEWKIND: new fields visibility.
                 Third part of the key name **MUST** be equal to the DOM column name. -->
            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.isbn"
                android:title="@string/lbl_isbn" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.thumbnail"
                android:title="@string/lbl_cover" />

            <!-- Authors are always visible, but the user can hide the type. -->
            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.author_type"
                android:title="@string/lbl_author_type" />

            <!-- series name includes series 'isComplete' and series number. -->
            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.series_name"
                android:title="@string/lbl_series" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.description"
                android:title="@string/lbl_description" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.publisher"
                android:title="@string/lbl_publisher" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.date_published"
                android:title="@string/lbl_date_published" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.first_publication"
                android:title="@string/lbl_first_publication" />


            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.format"
                android:title="@string/lbl_format" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.genre"
                android:title="@string/lbl_genre" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.language"
                android:title="@string/lbl_language" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.pages"
                android:title="@string/lbl_pages" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.list_price"
                android:title="@string/lbl_price_listed" />


            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.anthology"
                android:title="@string/lbl_table_of_content" />


            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.bookshelf"
                android:title="@string/lbl_bookshelf" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.loaned_to"
                android:title="@string/lbl_lending" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.notes"
                android:title="@string/lbl_notes" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.location"
                android:title="@string/lbl_location_long" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.price_paid"
                android:title="@string/lbl_price_paid" />


            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.read"
                android:title="@string/lbl_is_read" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.read_start"
                android:title="@string/lbl_read_start" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.read_end"
                android:title="@string/lbl_read_end" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.edition_bm"
                android:title="@string/lbl_edition" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.signed"
                android:title="@string/lbl_is_signed" />

            <SwitchPreference
                android:defaultValue="true"
                android:key="fields.visibility.rating"
                android:title="@string/lbl_rating" />

        </PreferenceScreen>

    </PreferenceCategory>

    <PreferenceCategory
        android:summary="@string/pg_reformat_titles_summary"
        android:title="@string/pg_reformat_titles">
        <SwitchPreference
            android:defaultValue="true"
            android:icon="@drawable/ic_add"
            android:key="title.reformat.insert"
            android:summaryOff="@string/pt_reformat_titles_original"
            android:summaryOn="@string/pt_reformat_titles_reformatted"
            android:title="@string/pt_reformat_titles_on_insert" />
        <SwitchPreference
            android:defaultValue="true"
            android:icon="@drawable/ic_edit"
            android:key="title.reformat.update"
            android:summaryOff="@string/pt_reformat_titles_original"
            android:summaryOn="@string/pt_reformat_titles_reformatted"
            android:title="@string/pt_reformat_titles_on_update" />
    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pg_booklist">
        <SwitchPreference
            android:defaultValue="true"
            android:icon="@drawable/ic_edit"
            android:key="BooksOnBookshelf.OpenBookReadOnly"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_bob_open_book_read_only" />

        <!-- default BooklistBuilder.PREF_LIST_REBUILD_STATE_PRESERVED == 0 -->
        <ListPreference
            android:defaultValue="0"
            android:entries="@array/pe_bob_list_state"
            android:entryValues="@array/pv_bob_list_state"
            android:icon="@drawable/ic_view_list"
            android:key="BookList.ListRebuildState"
            android:title="@string/pt_bob_list_state" />

        <!-- default BooklistBuilder.CompatibilityMode.PREF_MODE_DEFAULT == 0 -->
        <ListPreference
            android:defaultValue="0"
            android:entries="@array/pe_bob_list_generation"
            android:entryValues="@array/pv_bob_list_generation"
            android:icon="@drawable/ic_manage"
            android:key="BookList.CompatibilityMode"
            android:title="@string/pt_bob_list_generation" />

    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pg_scanning">
        <SwitchPreference
            android:defaultValue="true"
            android:icon="@drawable/ic_surround_sound"
            android:key="SoundManager.BeepIfScannedIsbnInvalid"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_scanning_beep_if_isbn_invalid" />

        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_surround_sound"
            android:key="SoundManager.BeepIfScannedIsbnValid"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_scanning_beep_if_isbn_valid" />

        <!-- default ScannerManager.SCANNER_ZXING_COMPATIBLE == 0 -->
        <ListPreference
            android:defaultValue="0"
            android:entries="@array/pe_scanning_preferred_scanner"
            android:entryValues="@array/pv_scanning_preferred_scanner"
            android:icon="@drawable/ic_scanner"
            android:key="ScannerManager.PreferredScanner"
            android:title="@string/pt_scanning_preferred_scanner" />

    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/pg_thumbnails">

        <SwitchPreference
            android:defaultValue="true"
            android:icon="@drawable/ic_zoom_in"
            android:key="Image.Zoom.Upscale"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_thumbnails_upscale_zoom" />

        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_crop_original"
            android:key="Image.Cropper.FrameIsWholeImage"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_thumbnails_crop_frame_is_whole_image" />

        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_apps"
            android:key="Image.Cropper.UseExternalApp"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_thumbnails_external_cropper" />

        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_cached"
            android:key="Image.Cache.Resized"
            android:summaryOff="@string/pe_bob_thumbnails_cache_resized_each_time"
            android:summaryOn="@string/pe_bob_thumbnails_cache_resized_stored"
            android:title="@string/pt_bob_thumbnails_cache_resized" />

        <!-- default rotate 0 degrees -->
        <ListPreference
            android:defaultValue="0"
            android:entries="@array/pe_thumbnails_rotate_auto"
            android:entryValues="@array/pv_thumbnails_rotate_auto"
            android:icon="@drawable/ic_rotate_right"
            android:key="Image.Camera.Autorotate"
            android:title="@string/pt_thumbnails_rotate_auto" />

        <!-- default CropImageViewTouchBase.LAYER_TYPE_USE_DEFAULT == -1 -->
        <ListPreference
            android:defaultValue="-1"
            android:dialogIcon="@drawable/ic_warning"
            android:entries="@array/pe_thumbnails_cropper_layer_type"
            android:entryValues="@array/pv_thumbnails_cropper_layer_type"
            android:icon="@drawable/ic_manage"
            android:key="Image.ViewLayerType"
            android:title="@string/pt_thumbnail_cropper_layer_type" />

    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/lbl_credentials">
        <PreferenceScreen
            android:icon="@drawable/ic_goodreads2"
            android:key="@string/goodreads"
            android:title="@string/goodreads">
            <intent android:action="goodreads.credentials.EDIT" />
        </PreferenceScreen>

        <PreferenceScreen
            android:icon="@drawable/ic_security"
            android:key="@string/library_thing"
            android:title="@string/library_thing">
            <intent android:action="librarything.credentials.EDIT" />
        </PreferenceScreen>
    </PreferenceCategory>

    <PreferenceCategory
        android:title="@string/lbl_search_sites">

        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_perm_data_setting"
            android:key="network.mobile_data"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_allow_mobile_data" />

        <PreferenceScreen
            android:icon="@drawable/ic_sort"
            android:key="@string/lbl_search_site_order"
            android:title="@string/lbl_search_site_order">
            <intent android:action="search.website.order.EDIT" />
        </PreferenceScreen>

        <!-- Key hardcoded to ISFDB as no other site has Publisher support for now
             If/when we need this for more sites, pop up a dialog with a checkbox for each site.
        -->
        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_search"
            android:key="ISFDB.uses.publisher"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_search_uses_publisher" />


        <!-- Key hardcoded to ISFDB as no other site has TOC support for now
             If/when we need this for more sites, pop up a dialog with a checkbox for each site.
        -->
        <SwitchPreference
            android:defaultValue="false"
            android:icon="@drawable/ic_cloud_download"
            android:key="ISFDB.seriesFromToc"
            android:summaryOff="@string/no"
            android:summaryOn="@string/yes"
            android:title="@string/pt_collect_series_info_from_toc" />

        <!-- The user can/should set their local amazon website.
             Other sites can be made editable likewise if needed.
         -->
        <EditTextPreference
            android:defaultValue="https://www.amazon.com"
            android:icon="@drawable/ic_link"
            android:inputType="textUri"
            android:key="Amazon.hostUrl"
            android:title="@string/amazon" />

        <!--<EditTextPreference-->
        <!--android:defaultValue="https://books.google.com"-->
        <!--android:icon="@drawable/ic_link"-->
        <!--android:inputType="textUri"-->
        <!--android:key="GoogleBooks.hostUrl"-->
        <!--android:title="@string/google_books" />-->

        <!--<EditTextPreference-->
        <!--android:defaultValue="http://www.isfdb.org"-->
        <!--android:icon="@drawable/ic_link"-->
        <!--android:inputType="textUri"-->
        <!--android:key="ISFDB.hostUrl"-->
        <!--android:title="@string/ISFDB" />-->
    </PreferenceCategory>
</PreferenceScreen>